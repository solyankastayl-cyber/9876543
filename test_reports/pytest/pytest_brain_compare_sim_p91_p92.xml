<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="2" skipped="0" tests="22" time="68.622" timestamp="2026-02-27T20:15:56.632865+00:00" hostname="agent-env-dd9b71b0-30e8-4806-9fe9-a1f1c6b0e4fd"><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainCompareP91" name="test_compare_returns_brain_compare_pack" time="10.728" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainCompareP91" name="test_compare_base_allocations" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainCompareP91" name="test_compare_brain_allocations" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainCompareP91" name="test_compare_brain_decision" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainCompareP91" name="test_compare_diff_structure" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainCompareP91" name="test_compare_diff_severity_valid" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainCompareP91" name="test_compare_changed_fields_structure" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainCompareP91" name="test_compare_context_structure" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainCompareP91" name="test_compare_determinism" time="23.224" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainCompareP91" name="test_compare_inputs_hash_present" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainSimP92" name="test_sim_run_returns_report" time="30.053" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainSimP92" name="test_sim_run_hit_rates" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainSimP92" name="test_sim_run_exposure_metrics" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainSimP92" name="test_sim_run_verdict_structure" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainSimP92" name="test_sim_run_verdict_gates" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainSimP92" name="test_sim_run_samples_structure" time="0.000" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainSimP92" name="test_sim_status_list_reports" time="0.308" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainSimP92" name="test_sim_status_specific_report" time="0.141" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestBrainSimP92" name="test_sim_report_retrieval" time="0.134" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestRegressionP91P92" name="test_cross_asset_still_works" time="0.303" /><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestRegressionP91P92" name="test_decision_still_works" time="3.436"><failure message="AssertionError: Decision not ok: {'asOf': '2026-02-27', 'scenario': {'name': 'TAIL', 'probs': {'BASE': 0.31, 'RISK': 0, 'TAIL': 0.69}, 'confidence': 0.7, 'description': 'Crisis mode. Severe tail risk detected. Capital preservation priority.'}, 'directives': {'caps': {}, 'scales': {}, 'haircuts': {}, 'warnings': [], 'riskMode': 'RISK_OFF'}, 'evidence': {'headline': 'TAIL scenario (70% conf) | RISK_OFF mode [MoE qv1_moe]', 'drivers': ['MoE Forecast (90D): Bullish 2.9%, TailRisk=0.86', 'Model: qv1_moe (trained 2026-02-27)', 'Cross-Asset: RISK_ON_SYNC (conf=0.42, contagion=0.43)', 'BTC-SPX corr(60d)=0.638, SPX-DXY corr(60d)=-0.094', 'Macro Regime: NEUTRAL', 'Liquidity: NEUTRAL'], 'conflicts': ['Forecast bullish but tail risk elevated — mixed signal'], 'whatWouldFlip': ['TailRisk drop below 0.20', 'Guard deescalation to NONE', 'Mean turning positive with low uncertainty'], 'confidenceFactors': ['Scenario confidence: 70%', 'Model: qv1_moe', 'System health: HEALTHY']}, 'meta': {'engineVersion': 'v2', 'brainVersion': 'v2.1.0-moe', 'computeTimeMs': 3249, 'inputsHash': '9e69da228c262b93'}}&#10;assert None is True&#10; +  where None = &lt;built-in method get of dict object at 0xf90535097cc0&gt;('ok')&#10; +    where &lt;built-in method get of dict object at 0xf90535097cc0&gt; = {'asOf': '2026-02-27', 'directives': {'caps': {}, 'haircuts': {}, 'riskMode': 'RISK_OFF', 'scales': {}, ...}, 'evidence': {'confidenceFactors': ['Scenario confidence: 70%', 'Model: qv1_moe', 'System health: HEALTHY'], 'conflicts': ['Forecast bullish but tail risk elevated — mixed signal'], 'drivers': ['MoE Forecast (90D): Bullish 2.9%, TailRisk=0.86', 'Model: qv1_moe (trained 2026-02-27)', 'Cross-Asset: RISK_ON_SYNC (conf=0.42, contagion=0.43)', 'BTC-SPX corr(60d)=0.638, SPX-DXY corr(60d)=-0.094', 'Macro Regime: NEUTRAL', 'Liquidity: NEUTRAL'], 'headline': 'TAIL scenario (70% conf) | RISK_OFF mode [MoE qv1_moe]', ...}, 'meta': {'brainVersion': 'v2.1.0-moe', 'computeTimeMs': 3249, 'engineVersion': 'v2', 'inputsHash': '9e69da228c262b93'}, ...}.get">backend/tests/test_brain_compare_sim_p91_p92.py:388: in test_decision_still_works
    assert data.get("ok") is True, f"Decision not ok: {data}"
E   AssertionError: Decision not ok: {'asOf': '2026-02-27', 'scenario': {'name': 'TAIL', 'probs': {'BASE': 0.31, 'RISK': 0, 'TAIL': 0.69}, 'confidence': 0.7, 'description': 'Crisis mode. Severe tail risk detected. Capital preservation priority.'}, 'directives': {'caps': {}, 'scales': {}, 'haircuts': {}, 'warnings': [], 'riskMode': 'RISK_OFF'}, 'evidence': {'headline': 'TAIL scenario (70% conf) | RISK_OFF mode [MoE qv1_moe]', 'drivers': ['MoE Forecast (90D): Bullish 2.9%, TailRisk=0.86', 'Model: qv1_moe (trained 2026-02-27)', 'Cross-Asset: RISK_ON_SYNC (conf=0.42, contagion=0.43)', 'BTC-SPX corr(60d)=0.638, SPX-DXY corr(60d)=-0.094', 'Macro Regime: NEUTRAL', 'Liquidity: NEUTRAL'], 'conflicts': ['Forecast bullish but tail risk elevated — mixed signal'], 'whatWouldFlip': ['TailRisk drop below 0.20', 'Guard deescalation to NONE', 'Mean turning positive with low uncertainty'], 'confidenceFactors': ['Scenario confidence: 70%', 'Model: qv1_moe', 'System health: HEALTHY']}, 'meta': {'engineVersion': 'v2', 'brainVersion': 'v2.1.0-moe', 'computeTimeMs': 3249, 'inputsHash': '9e69da228c262b93'}}
E   assert None is True
E    +  where None = &lt;built-in method get of dict object at 0xf90535097cc0&gt;('ok')
E    +    where &lt;built-in method get of dict object at 0xf90535097cc0&gt; = {'asOf': '2026-02-27', 'directives': {'caps': {}, 'haircuts': {}, 'riskMode': 'RISK_OFF', 'scales': {}, ...}, 'evidence': {'confidenceFactors': ['Scenario confidence: 70%', 'Model: qv1_moe', 'System health: HEALTHY'], 'conflicts': ['Forecast bullish but tail risk elevated — mixed signal'], 'drivers': ['MoE Forecast (90D): Bullish 2.9%, TailRisk=0.86', 'Model: qv1_moe (trained 2026-02-27)', 'Cross-Asset: RISK_ON_SYNC (conf=0.42, contagion=0.43)', 'BTC-SPX corr(60d)=0.638, SPX-DXY corr(60d)=-0.094', 'Macro Regime: NEUTRAL', 'Liquidity: NEUTRAL'], 'headline': 'TAIL scenario (70% conf) | RISK_OFF mode [MoE qv1_moe]', ...}, 'meta': {'brainVersion': 'v2.1.0-moe', 'computeTimeMs': 3249, 'engineVersion': 'v2', 'inputsHash': '9e69da228c262b93'}, ...}.get</failure></testcase><testcase classname="backend.tests.test_brain_compare_sim_p91_p92.TestRegressionP91P92" name="test_forecast_still_works" time="0.157"><failure message="AssertionError: Missing forecast&#10;assert 'forecast' in {'asOf': '2026-02-27', 'asset': 'dxy', 'byHorizon': {'180D': {'mean': 0.0343, 'q05': -0.0196, 'q50': 0.0406, 'q95': 0.0819, ...}, '30D': {'mean': 0.0089, 'q05': -0.0063, 'q50': 0.0074, 'q95': 0.0256, ...}, '365D': {'mean': 0.0565, 'q05': -0.0493, 'q50': 0.0664, 'q95': 0.1524, ...}, '90D': {'mean': 0.029, 'q05': -0.0352, 'q50': 0.0333, 'q95': 0.0888, ...}}, 'featuresVersion': 'fv1_53', ...}">backend/tests/test_brain_compare_sim_p91_p92.py:398: in test_forecast_still_works
    assert "forecast" in data, "Missing forecast"
E   AssertionError: Missing forecast
E   assert 'forecast' in {'asOf': '2026-02-27', 'asset': 'dxy', 'byHorizon': {'180D': {'mean': 0.0343, 'q05': -0.0196, 'q50': 0.0406, 'q95': 0.0819, ...}, '30D': {'mean': 0.0089, 'q05': -0.0063, 'q50': 0.0074, 'q95': 0.0256, ...}, '365D': {'mean': 0.0565, 'q05': -0.0493, 'q50': 0.0664, 'q95': 0.1524, ...}, '90D': {'mean': 0.029, 'q05': -0.0352, 'q50': 0.0333, 'q95': 0.0888, ...}}, 'featuresVersion': 'fv1_53', ...}</failure></testcase></testsuite></testsuites>